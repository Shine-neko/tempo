{% extends "TempoAppBundle::layout.html.twig" %}
{% block bodyClass %}{{ parent() }} register login user {% endblock %}
{% block body %}
    <div id="container-user" class="col-md-3">
        <h1>{{ sylius_settings_get('general.name') }} </h1>

        {% if error is defined and error %}
            <div class="form-error">{{ error.messageKey|trans(error.messageData) }}</div>
        {% endif %}

        {% for name, flashes in app.session.flashbag.all if name in ['success', 'notice', 'error'] %}
            {% for flash in flashes %}
                <div class="alert alert-{{ name }}">
                    <a class="close" data-dismiss="alert" href="#">Ã—</a>
                    {{ flash|trans }}
                </div>
            {% endfor %}
        {% endfor %}

        {% block subcontent %}
            <form action="{{ path("user_register", {'token' : token}) }}" method="post">

                <div class="form-group">
                    {{ form_row(form.username) }}
                </div>

                <div class="form-group">
                    {{ form_widget(form.password) }}
                </div>
                
                <div class="form-group">
                    {{ form_row(form.email) }}
                </div>

                <div class="widget">
                    <input class="submit btn btn-default" type="submit" value="{{ 'tempo.security.register.button'|trans }}" />
                </div>
                <div class="widget reset">
                </div>

                <div class="widget pp clearfix">
                    {{ form_rest(form) }}
                </div>
            </form>
        {% endblock subcontent %}

        <div id="powered" class="col-md-6">
            <p>{{ 'tempo.layout.powered_by'|trans }} <a href="http://www.ikimea.com">Ikimea</a> </p>
        </div>
    </div>
{% endblock %}